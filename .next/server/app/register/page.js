(()=>{var e={};e.id=11,e.ids=[11],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},31631:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>p,routeModule:()=>c,tree:()=>d});var a=t(67096),i=t(16132),o=t(37284),n=t.n(o),s=t(32564),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);t.d(r,l);let d=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19640)),"/home/pavanr/Development/tvks/zkid-next-framework/app/register/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,60503)),"/home/pavanr/Development/tvks/zkid-next-framework/app/register/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,34959)),"/home/pavanr/Development/tvks/zkid-next-framework/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,38196)),"/home/pavanr/Development/tvks/zkid-next-framework/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/home/pavanr/Development/tvks/zkid-next-framework/app/register/page.tsx"],m="/register/page",u={require:t,loadChunk:()=>Promise.resolve()},c=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},25905:(e,r,t)=>{Promise.resolve().then(t.bind(t,81606))},60752:(e,r,t)=>{Promise.resolve().then(t.bind(t,14919))},81606:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>RegisterLayout});var a=t(30784);t(9885);var i=t(58636);t(98112);var o=t(96970);function RegisterLayout({children:e}){return a.jsx(a.Fragment,{children:a.jsx(o.default,{children:a.jsx(i.ZP,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",sx:{minHeight:"100vh"},children:a.jsx(i.ZP,{item:!0,xs:3,sx:{margin:"10px"},children:e})})})})}},14919:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Dashboard});var a=t(30784),i=t(40703),o=t(57086),n=t(66558),s=t(9885),l=t(64342),d=t(60259),p=t(36269),m=t.n(p);let u={position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:1500},c={zIndex:1400},Loading=({message:e})=>a.jsx(m(),{open:!0,style:c,children:(0,a.jsxs)("div",{style:u,children:[a.jsx(l.Z,{color:"primary"}),e&&a.jsx(d.Z,{color:"white",variant:"h6",children:e})]})});var x=t(25055),h=t.n(x),g=t(6515),v=t.n(g),f=t(62673),y=t.n(f),_=t(94648);function Dashboard(){let[e,r]=(0,s.useState)(""),t={name:i.Z_().required("Full name is required"),email:i.Z_().required("Email is required").email("Invalid email format"),phone:i.Z_().required("A Mobile number is required"),role:i.Z_().required("Role is required"),description:i.Z_().required("Description is required"),extra:i.Z_(),photo:i.nK().required("Required")},{register:l,control:d,handleSubmit:p,formState:{errors:m,touchedFields:u},reset:c}=(0,n.cI)({resolver:(0,o.X)(i.Ry().shape(t))});async function onSubmit(e){if(r("Registering..."),e.photo[0]){let r=e.photo[0],t=new FileReader;t.onload=r=>{if(r.target){let t=r.target.result,a={...e,photo:t};sendRegistrationData(a)}},t.readAsDataURL(r)}}async function sendRegistrationData(e){console.log("data",e);let t=await fetch("/api/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),a=await t.json();console.log("json",a),t.ok?(alert("User registered successfully"),c()):(console.error("error",a),alert("Error: Could not register user")),r("")}return(0,a.jsxs)(a.Fragment,{children:[a.jsx(h(),{component:"h1",variant:"h5",sx:{marginBottom:2},children:"Registration"}),(0,a.jsxs)("form",{onSubmit:p(onSubmit),encType:"multipart/form-data",children:[a.jsx(v(),{id:"name",type:"text",variant:"outlined",color:"primary",label:"Full Name (Firstname and Lastname)",fullWidth:!0,...l("name"),error:u.name&&!!m.name,helperText:u.name?m.name?.message:"",sx:{mb:2}}),a.jsx(v(),{type:"email",variant:"outlined",color:"primary",label:"Email",...l("email"),error:u.email&&!!m.email,helperText:u.email?m.email?.message:"",fullWidth:!0,sx:{mb:2}}),a.jsx(n.Qr,{name:"phone",control:d,rules:{validate:e=>(console.log("value",e),(0,_.Cs)(e)||"Invalid mobile number")},render:({field:{ref:e,...r}})=>a.jsx(_.Kr,{disableDropdown:!0,inputRef:e,inputProps:{readOnly:!1},...r,color:"primary",defaultCountry:"US",variant:"outlined",label:"Mobile Number",error:!!m.phone,helperText:m.phone?.message,fullWidth:!0,sx:{mb:2}})}),a.jsx(v(),{type:"text",variant:"outlined",color:"primary",label:"Role",...l("role"),error:u.role&&!!m.role,helperText:u.role?m.role?.message:"",fullWidth:!0,sx:{mb:2}}),a.jsx(v(),{type:"text",variant:"outlined",color:"primary",label:"Description",...l("description"),error:u.description&&!!m.description,helperText:u.description?m.description?.message:"",fullWidth:!0,sx:{mb:2}}),a.jsx(v(),{type:"text",variant:"outlined",color:"primary",label:"Extra",...l("extra"),error:u.extra&&!!m.extra,helperText:u.extra?m.extra?.message:"",fullWidth:!0,sx:{mb:2}}),a.jsx(v(),{type:"file",variant:"outlined",color:"primary",label:"Photo",...l("photo"),error:u.photo&&!!m.photo,helperText:u.photo?m.photo?.message:"",fullWidth:!0,sx:{mb:2}}),a.jsx(y(),{variant:"contained",color:"primary",type:"submit",children:"Register"})]}),e&&a.jsx(Loading,{message:e})]})}},60503:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>l});var a=t(95153);let i=(0,a.createProxy)(String.raw`/home/pavanr/Development/tvks/zkid-next-framework/app/register/layout.tsx`),{__esModule:o,$$typeof:n}=i,s=i.default,l=s},19640:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>l});var a=t(95153);let i=(0,a.createProxy)(String.raw`/home/pavanr/Development/tvks/zkid-next-framework/app/register/page.tsx`),{__esModule:o,$$typeof:n}=i,s=i.default,l=s},57481:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let r=(0,a.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:r+""}]}},98112:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[889,120,323,26,28,531],()=>__webpack_exec__(31631));module.exports=t})();